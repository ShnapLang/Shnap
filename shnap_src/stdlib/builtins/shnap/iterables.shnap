iterableStr = $ arr {
    state = "["
    iter = arr.iterator()
    for iter {
        state += str(it)
        if iter.hasNext() {
            state += ", "
        }
    }
    return: state + "]"
}

isIterator = $ (obj) return: hasFunction(obj,"next",0) && hasFunction(obj,"hasNext",0)
isIterable = $ (obj) return: hasFunction(obj,"iterator",0) || isIterator(obj)